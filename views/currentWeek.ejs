<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('./partials/head.ejs') %>
  </head>

  <body>
    <%- include('./partials/header.ejs') %>
    <h2><%=`Week ${currentWeek}` %></h2>
    <button type="button" class="open-modal">Add new note</button>
    <dialog class="modal">
      <form action="/note/newNote" method="POST">
        <label for="headerInput">Input header</label>
        <input type="text" id="headerInput" name="headerInput" />
        <label for="bodyInput">Input text</label>
        <textarea
          name="bodyInput"
          id="bodyInput"
          cols="30"
          rows="10"
        ></textarea>
        <label for="tagInput">Input tags</label>
        <input type="text" id="tagInput" name="tagInput" />
        <label for="weekNumber">Input date</label>
        <input type="date" id="weekNumber" name="weekNumber" />
        <button type="submit">submit</button>
        <button type="button" class="close-modal">close modal</button>
      </form>
    </dialog>
    <fieldset class="filter-tags">
      <legend>Click tags to search</legend>
      <ul>
        <li>
          <% fullTagsArray.forEach(item => { %>
          <label for="label-button" class="label-button"><%= item %></label> <%
          }) %>
          <input type="checkbox" id="label-button" />
        </li>
      </ul>
    </fieldset>
    <ul class="note-item">
      <% notes.forEach(note => { %> <% if(note.weekNumber ===
      Number(currentWeek)) {%>
      <li data-id="<%= note._id %>" class="single-note">
        <span>TITLE: <%= note.headerInput %></span>
        <p class="note-tags"><%= note.tagInput %></p>
        <span><%= note.weekNumber %></span>
        <a href="/note/<%= note._id%>">Go to note</a>
        <a href="/note/remove/<%= note._id %>">Remove</a>
      </li>
      <% }}) %>
    </ul>
    <%- include('./partials/footer.ejs') %>
  </body>
</html>
